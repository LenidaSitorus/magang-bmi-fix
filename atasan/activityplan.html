<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Activity Plan Atasan</title>
    <link href="/src/output.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
  </head>
  <body class="bg-gray-100">
    <!-- Sidebar -->
    <div
      class="fixed top-0 left-0 w-64 h-screen bg-blue-950 text-white flex flex-col items-center py-7 shadow-md z-50"
    >
      <div class="relative mb-4">
        <img
          alt="Profile picture"
          class="rounded-full w-24 h-24"
          src="/gambar/profile.jpg"
          width="100"
          height="100"
        />
        <a
          href="profile.html"
          class="absolute bottom-0 right-0 bg-white rounded-full p-2 flex items-center justify-center w-8 h-8"
        >
          <i class="fas fa-pencil-alt text-yellow-600"></i>
        </a>
      </div>
      <div class="text-center mb-8">
        <p class="text-lg">Nama</p>
        <p class="text-sm">Email</p>
      </div>
      <div class="w-full">
        <a
          class="flex items-center px-4 py-2 mt-2 hover:bg-blue-700 w-full space-x-4"
          href="dashboard.html"
        >
          <i class="fas fa-th-large ml-3"></i>
          <span class="text-base">Dashboard</span>
        </a>
        <a
          class="flex items-center px-4 py-2 mt-2 hover:bg-blue-700 w-full space-x-4"
          href="project.html"
        >
          <i class="fas fa-folder ml-3"></i>
          <span class="text-base">Project</span>
        </a>
        <a
          class="flex items-center px-4 py-2 mt-2 bg-gray-200 text-gray-800 w-full space-x-4"
          href="activityplan.html"
        >
          <i class="fas fa-calendar-check ml-3"></i>
          <span class="text-base">Activity Plan</span>
        </a>
        <a
          class="flex items-center px-4 py-2 mt-2 hover:bg-blue-700 w-full space-x-4"
          href="report.html"
        >
          <i class="fas fa-file-alt ml-3"></i>
          <span class="text-base">Report</span>
        </a>
        <a
          class="flex items-center px-4 py-2 mt-2 hover:bg-blue-700 w-full space-x-4"
          href="lt_support.html"
        >
          <i class="fas fa-clock ml-3"></i>
          <span class="text-base">Leadtime</span>
        </a>
        <a
          class="flex items-center px-4 py-2 mt-2 hover:bg-blue-700 w-full space-x-4"
          href="meeting.html"
        >
          <i class="fas fa-users ml-3"></i>
          <span class="text-base">Meeting</span>
        </a>
      </div>
      <div class="mt-auto w-full">
        <a
          class="flex items-center px-4 py-2 hover:bg-blue-700 w-full max-w-xs justify-center"
          href="login.html"
        >
          <i class="fas fa-sign-out-alt mr-3"></i>
          <span>Log Out</span>
        </a>
      </div>
    </div>

    <!-- Header -->
    <div
      class="fixed top-0 left-64 right-0 h-20 bg-white shadow-md flex items-center justify-between px-6 z-50"
    >
      <img src="/gambar/logobmi.png" alt="BMI Logo" class="h-16" />
      <div class="flex items-center space-x-5">
        <a href="listuser.html" class="focus:outline-none">
          <i class="fas fa-user-plus text-xl"></i>
        </a>
        <div class="relative">
          <button id="notificationButton" class="relative focus:outline-none">
            <i class="fas fa-bell text-xl"></i>

            <!-- Badge notifikasi -->
            <span
              class="absolute top-0 right-0 bg-red-500 text-xs text-white rounded-full w-5 h-5 flex items-center justify-center"
              >3</span
            >
          </button>

          <!-- Dropdown Notifikasi -->
          <div
            id="notificationDropdown"
            class="hidden absolute right-0 mt-2 w-64 bg-white text-gray-700 shadow-lg rounded-lg z-50 max-h-64 overflow-y-auto"
          >
            <div class="p-4">
              <h3 class="font-bold mb-2">Notifikasi</h3>
              <ul>
                <li class="py-2 border-b">
                  Anda baru ditugaskan di
                  <strong class="text-blue-500">Proyek A</strong>
                </li>
                <li class="py-2 border-b">
                  Proyek <strong class="text-blue-500">B</strong> telah selesai
                </li>
                <li class="py-2 border-b">
                  Tugas di
                  <strong class="text-blue-500">Proyek C</strong> diperbarui
                </li>
                <li class="py-2 border-b">
                  Pembaruan dalam
                  <strong class="text-blue-500">Proyek D</strong>
                </li>
                <li class="py-2 border-b">
                  Anda baru ditugaskan di
                  <strong class="text-blue-500">Proyek E</strong>
                </li>
                <li class="py-2 border-b">
                  Proyek <strong class="text-blue-500">F</strong> selesai tepat
                  waktu
                </li>
                <li class="py-2 border-b">
                  Tugas di
                  <strong class="text-blue-500">Proyek G</strong> diperbarui
                </li>
              </ul>
            </div>
          </div>
        </div>
        <a href="/help" class="focus:outline-none">
          <i class="fas fa-question-circle text-xl"></i>
        </a>
      </div>
    </div>
    <!-- Main Content -->
    <div class="ml-64 mt-20 p-8">
      <div class="flex justify-between items-center mb-6">
        <h1 class="text-3xl font-bold">Activity Plan</h1>
        <button
          id="openModalBtn"
          class="bg-blue-950 hover:bg-blue-600 text-white px-4 py-2 rounded flex items-center space-x-2"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 4v16m8-8H4"
            />
          </svg>
          <span>Buat baru</span>
        </button>
      </div>
      <!-- Control Box -->
      <div
        class="p-4 bg-blue-950 rounded-lg shadow-md mb-8 max-w-screen-lg w-full mx-auto"
      >
        <div class="flex flex-wrap justify-between items-center space-x-4">
          <!-- Select Project -->
          <select
            id="searchProject"
            class="flex-grow min-w-[150px] p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-transparent"
          >
            <option value="">Pilih Project</option>
            <option value="Project 1">Project 1</option>
            <option value="Project 2">Project 2</option>
            <option value="Project 3">Project 3</option>
          </select>

          <!-- Select Ruang Lingkup -->
          <select
            id="searchScope"
            class="flex-grow min-w-[150px] p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-transparent"
          >
            <option value="">Pilih Ruang Lingkup</option>
            <option value="Lingkup A">Lingkup A</option>
            <option value="Lingkup B">Lingkup B</option>
          </select>

          <div class="flex items-center space-x-2 flex-grow min-w-[200px]">
            <!-- Tanggal Dimulai -->
            <input
              id="searchStartDate"
              type="date"
              class="flex-grow p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-transparent"
            />

            <!-- Teks "-" -->
            <span class="text-white">-</span>

            <!-- Hingga Tanggal -->
            <input
              id="searchEndDate"
              type="date"
              class="flex-grow p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-transparent"
            />
          </div>

          <!-- Search Button -->
          <button
            class="bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 focus:ring-2 focus:ring-yellow-400 focus:outline-none"
            onclick="searchTable()"
          >
            <i class="fas fa-search"></i> Cari
          </button>
        </div>
      </div>

      <div class="overflow-x-auto w-full">
        <table
          class="min-w-full bg-white border-collapse border border-gray-300"
        >
          <thead>
            <tr>
              <th
                class="border border-gray-300 px-4 py-2 bg-blue-900 text-white text-sm"
                rowspan="2"
              >
                No
              </th>
              <th
                class="border border-gray-300 px-4 py-2 bg-blue-900 text-white text-sm"
                rowspan="2"
              >
                Nama Proyek
              </th>
              <th
                class="border border-gray-300 px-4 py-2 bg-blue-900 text-white text-sm"
                rowspan="2"
              >
                PIC
              </th>
              <th
                class="border border-gray-300 px-4 py-2 bg-blue-900 text-white text-sm"
                rowspan="2"
              >
                Requester
              </th>
              <th
                class="border border-gray-300 px-4 py-2 bg-blue-900 text-white text-sm"
                rowspan="2"
              >
                Ruang Lingkup
              </th>
              <th
                class="border border-gray-300 px-4 py-2 bg-blue-900 text-white text-sm"
                rowspan="2"
              >
                Durasi
              </th>
              <th
                class="border border-gray-300 px-4 py-2 bg-blue-900 text-white text-sm"
                rowspan="2"
              >
                Keterangan
              </th>
              <th
                class="border border-gray-300 px-4 py-2 bg-blue-900 text-white text-sm"
                colspan="2"
              >
                Jadwal Pelaksanaan
              </th>
              <th
                class="border border-gray-300 px-4 py-2 bg-blue-900 text-white text-sm"
                colspan="2"
              >
                Realisasi
              </th>
              <th
                class="border border-gray-300 px-4 py-2 bg-blue-900 text-white text-sm"
                rowspan="2"
              >
                Aksi
              </th>
              <th
                class="border border-gray-300 px-4 py-2 bg-blue-900 text-white text-sm"
                rowspan="2"
              >
                Status
              </th>
            </tr>
            <tr>
              <th
                class="border border-gray-300 px-4 py-2 bg-blue-900 text-white text-sm"
              >
                Awal
              </th>
              <th
                class="border border-gray-300 px-4 py-2 bg-blue-900 text-white text-sm"
              >
                Akhir
              </th>
              <th
                class="border border-gray-300 px-4 py-2 bg-blue-900 text-white text-sm"
              >
                Awal
              </th>
              <th
                class="border border-gray-300 px-4 py-2 bg-blue-900 text-white text-sm"
              >
                Akhir
              </th>
            </tr>
          </thead>
          <tbody id="activityTableBody" class="text-sm">
            <!-- Data Pertama -->
            <tr>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">1</td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                <a
                  href="detail-activityplan.html?project=1"
                  class="text-blue-600 hover:underline"
                  >Project 1</a
                >
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                User 1
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                Ani
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                Pembangunan Sistem Informasi
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                30 Hari
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                Urgent
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                2024-10-01
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                2024-10-30
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                2024-10-05
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                2024-10-25
              </td>
              <!-- Kolom Aksi -->
              <td style="border: 1px solid #d1d5db" class="text-center">
                <button class="edit-btn text-blue-600">
                  <i class="fas fa-edit"></i>
                </button>
                <button class="delete-btn text-red-600">
                  <i class="fas fa-trash"></i>
                </button>
              </td>
              <!-- Kolom Status -->
              <td class="border border-gray-300 px-4 py-2 text-center">
                <input
                  type="checkbox"
                  class="form-checkbox h-5 w-5 text-blue-600"
                />
              </td>
            </tr>
            <!-- Data Kedua -->
            <tr>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">2</td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                <a
                  href="detail-activityplan.html?project=2"
                  class="text-blue-600 hover:underline"
                  >Project 2</a
                >
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                User 2
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                Siti
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                Migrasi Data
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                15 Hari
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                Penting
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                2024-11-01
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                2024-11-15
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                2024-11-02
              </td>
              <td class="border border-gray-300 px-4 py-2 text-gray-700">
                2024-11-14
              </td>
              <!-- Kolom Aksi -->
              <td style="border: 1px solid #d1d5db" class="text-center">
                <button class="edit-btn text-blue-600">
                  <i class="fas fa-edit"></i>
                </button>
                <button class="delete-btn text-red-600">
                  <i class="fas fa-trash"></i>
                </button>
              </td>
              <!-- Kolom Status -->
              <td class="border border-gray-300 px-4 py-2 text-center">
                <input
                  type="checkbox"
                  class="form-checkbox h-5 w-5 text-blue-600"
                />
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Button Print -->
      <div class="flex justify-center mt-4">
        <button
          class="bg-yellow-600 hover:bg-yellow-700 text-white px-6 py-2 rounded flex items-center space-x-2"
          onclick="window.print()"
        >
          <i class="fas fa-print"></i>
          <span>Print</span>
        </button>
      </div>

      <!-- Modal Create -->
      <div
        id="modal"
        class="fixed inset-0 bg-gray-700 bg-opacity-75 z-50 hidden"
      >
        <div
          class="bg-white p-6 rounded-lg shadow-lg w-full max-w-3xl max-h-[80vh] overflow-y-auto modal-content relative mx-auto my-8"
          onclick="event.stopPropagation();"
        >
          <button
            id="closeModalBtn"
            class="absolute top-2 right-2 text-gray-600 hover:text-gray-900"
            onclick="closeModal('modal')"
          >
            <i class="fas fa-times"></i>
          </button>
          <h2 class="text-xl font-semibold mb-4">Buat Activity Baru</h2>
          <form id="activityForm">
            <div class="mb-4">
              <label
                for="projectName"
                class="block text-sm font-medium text-gray-700"
                >Nama Proyek</label
              >
              <select
                id="projectName"
                required
                class="mt-1 p-2 border border-gray-300 rounded w-full"
              >
                <option value="">Pilih Proyek</option>
                <option value="Project 1">Project 1</option>
                <option value="Project 2">Project 2</option>
                <option value="Project 3">Project 3</option>
              </select>
            </div>
            <!-- Assignees -->
            <div class="mb-4">
              <label class="block text-gray-700 mb-2">PIC</label>
              <div
                id="assigneeContainer"
                class="flex flex-wrap items-center gap-2 border p-2 rounded-lg"
              >
                <div id="selectedUsers" class="flex flex-wrap gap-2"></div>
                <button
                  id="addAssigneeBtn"
                  type="button"
                  class="text-blue-500 hover:text-blue-700"
                >
                  <i class="fas fa-user-plus"></i> Add PIC
                </button>
              </div>
              <div
                id="assigneeDropdown"
                class="hidden mt-2 border rounded-lg shadow-lg bg-white p-2"
              >
                <button
                  class="block w-full text-left p-2 hover:bg-gray-200"
                  data-user="User 1"
                >
                  User 1
                </button>
                <button
                  class="block w-full text-left p-2 hover:bg-gray-200"
                  data-user="User 2"
                >
                  User 2
                </button>
                <button
                  class="block w-full text-left p-2 hover:bg-gray-200"
                  data-user="User 3"
                >
                  User 3
                </button>
              </div>
            </div>
            <div class="mb-4">
              <label
                for="requester"
                class="block text-sm font-medium text-gray-700"
                >Requester</label
              >
              <input
                type="text"
                id="requester"
                class="mt-1 p-2 border border-gray-300 rounded w-full"
                required
              />
            </div>
            <div class="mb-4">
              <label for="scope" class="block text-sm font-medium text-gray-700"
                >Ruang Lingkup</label
              >
              <textarea
                id="scope"
                class="mt-1 p-2 border border-gray-300 rounded w-full"
                rows="3"
                required
              ></textarea>
            </div>
            <div class="mb-4">
              <label
                for="duration"
                class="block text-sm font-medium text-gray-700"
                >Durasi</label
              >
              <input
                type="text"
                id="duration"
                class="mt-1 p-2 border border-gray-300 rounded w-full"
                required
              />
            </div>
            <div class="mb-4">
              <label for="notes" class="block text-sm font-medium text-gray-700"
                >Keterangan</label
              >
              <textarea
                id="notes"
                class="mt-1 p-2 border border-gray-300 rounded w-full"
                rows="3"
                required
              ></textarea>
            </div>
            <div class="mb-4">
              <label class="block text-sm font-medium text-gray-700"
                >Jadwal Pelaksanaan</label
              >
              <div class="flex justify-between">
                <div class="w-full mr-2">
                  <label for="startSchedule" class="block text-sm">Awal</label>
                  <input
                    type="date"
                    id="startSchedule"
                    class="mt-1 p-2 border border-gray-300 rounded w-full"
                    required
                  />
                </div>
                <div class="w-full">
                  <label for="endSchedule" class="block text-sm">Akhir</label>
                  <input
                    type="date"
                    id="endSchedule"
                    class="mt-1 p-2 border border-gray-300 rounded w-full"
                    required
                  />
                </div>
              </div>
            </div>
            <div class="mb-4">
              <label class="block text-sm font-medium text-gray-700"
                >Realisasi</label
              >
              <div class="flex justify-between">
                <div class="w-full mr-2">
                  <label for="startRealization" class="block text-sm"
                    >Awal</label
                  >
                  <input
                    type="date"
                    id="startRealization"
                    class="mt-1 p-2 border border-gray-300 rounded w-full"
                    required
                  />
                </div>
                <div class="w-full">
                  <label for="endRealization" class="block text-sm"
                    >Akhir</label
                  >
                  <input
                    type="date"
                    id="endRealization"
                    class="mt-1 p-2 border border-gray-300 rounded w-full"
                    required
                  />
                </div>
              </div>
            </div>
            <div class="flex justify-end">
              <button
                type="button"
                id="saveButton"
                class="bg-blue-600 text-white px-4 py-2 rounded"
              >
                Simpan
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div
      id="HapusModal"
      class="fixed inset-0 hidden bg-gray-700 bg-opacity-75 z-50"
    >
      <div
        class="bg-white p-6 rounded-lg shadow-lg w-1/3"
        style="
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
        "
        onclick="event.stopPropagation();"
        <!--
        Prevents
        closing
        when
        clicking
        inside
        the
        modal
        --
      >
        >
        <h2 class="text-xl font-semibold mb-4">Konfirmasi Hapus</h2>
        <p class="mb-4">Anda yakin ingin menghapus baris ini?</p>
        <div class="flex justify-end">
          <button
            class="bg-gray-200 text-gray-800 px-4 py-2 rounded-lg mr-2"
            onclick="closeModal('HapusModal')"
          >
            Batal
          </button>
          <button
            id="confirmDelete"
            class="bg-red-500 text-white px-4 py-2 rounded-lg"
          >
            Hapus
          </button>
        </div>
      </div>
    </div>
    <script src="/javascript/activity-plan-atasan.js"></script>
  </body>
</html>
